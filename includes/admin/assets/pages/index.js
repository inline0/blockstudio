(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.hooks,o=window.wp.data,n=window.wp.domReady;var i=t.n(n);function c(t,e){const o=new Set;for(const n of t){const t=[...e,n.clientId];if(n.attributes.blockEditingMode)for(const t of e)o.add(t);n.innerBlocks&&n.innerBlocks.length&&c(n.innerBlocks,t).forEach(t=>o.add(t))}return o}function r(t){const e=[];return t.forEach(t=>{e.push(t),t.innerBlocks&&t.innerBlocks.length&&e.push(...r(t.innerBlocks))}),e}(0,e.addFilter)("blocks.registerBlockType","blockstudio/block-editing-mode-attribute",t=>(t.attributes={...t.attributes,blockEditingMode:{type:"string"}},t)),i()(()=>{const t={};(0,o.subscribe)(()=>{const e=(0,o.select)("core/editor").getEditorSettings().blockstudioBlockEditingMode;if(!e)return;const n=(0,o.select)("core/block-editor").getBlocks(),i=c(n,[]);r(n).forEach(n=>{let c=n.attributes.blockEditingMode||e;!n.attributes.blockEditingMode&&i.has(n.clientId)&&(c="contentOnly"),c&&t[n.clientId]!==c&&((0,o.dispatch)("core/block-editor").setBlockEditingMode(n.clientId,c),t[n.clientId]=c)})})})})();