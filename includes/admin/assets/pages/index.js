(()=>{"use strict";var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.data,o=window.wp.domReady;var n=t.n(o);function i(t,e){const o=new Set;for(const n of t){const t=[...e,n.clientId];if(n.attributes.blockEditingMode)for(const t of e)o.add(t);n.innerBlocks&&n.innerBlocks.length&&i(n.innerBlocks,t).forEach(t=>o.add(t))}return o}function c(t){const e=[];return t.forEach(t=>{e.push(t),t.innerBlocks&&t.innerBlocks.length&&e.push(...c(t.innerBlocks))}),e}(0,window.wp.hooks.addFilter)("blocks.registerBlockType","blockstudio/block-editing-mode-attribute",t=>(t.attributes={...t.attributes,blockEditingMode:{type:"string"}},t)),n()(()=>{const t={};(0,e.subscribe)(()=>{const o=(0,e.select)("core/editor").getEditorSettings().blockstudioBlockEditingMode;if(!o)return;const n=(0,e.select)("core/block-editor").getBlocks(),r=i(n,[]);c(n).forEach(n=>{let i=n.attributes.blockEditingMode||o;!n.attributes.blockEditingMode&&r.has(n.clientId)&&(i="contentOnly"),i&&t[n.clientId]!==i&&((0,e.dispatch)("core/block-editor").setBlockEditingMode(n.clientId,i),t[n.clientId]=i)})})})})();