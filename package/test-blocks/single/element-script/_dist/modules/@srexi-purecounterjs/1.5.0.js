/* esm.sh - @srexi/purecounterjs@1.5.0 */
var N=Object.create;var I=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var H=(l,s)=>()=>(s||l((s={exports:{}}).exports,s),s.exports);var z=(l,s,v,m)=>{if(s&&typeof s=="object"||typeof s=="function")for(let f of F(s))!V.call(l,f)&&f!==v&&I(l,f,{get:()=>s[f],enumerable:!(m=C(s,f))||m.enumerable});return l};var R=(l,s,v)=>(v=l!=null?N(P(l)):{},z(s||!l||!l.__esModule?I(v,"default",{value:l,enumerable:!0}):v,l));var S=H((w,k)=>{(function(l,s){typeof w=="object"&&typeof k=="object"?k.exports=s():typeof define=="function"&&define.amd?define([],s):typeof w=="object"?w.PureCounter=s():l.PureCounter=s()})(self,function(){return function(){var l={3:function(m,f,g){"use strict";function O(p){return function(n){if(Array.isArray(n))return L(n)}(p)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(p)||function(n,d){if(n){if(typeof n=="string")return L(n,d);var u=Object.prototype.toString.call(n).slice(8,-1);if(u==="Object"&&n.constructor&&(u=n.constructor.name),u==="Map"||u==="Set")return Array.from(n);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return L(n,d)}}(p)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(p,n){(n==null||n>p.length)&&(n=p.length);for(var d=0,u=new Array(n);d<n;d++)u[d]=p[d];return u}function T(p,n){if(!(p instanceof n))throw new TypeError("Cannot call a class as a function")}function j(p,n){for(var d=0;d<n.length;d++){var u=n[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(p,u.key,u)}}g.d(f,{Z:function(){return A}});var A=function(){function p(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};T(this,p),this.defaults={start:0,end:100,duration:2e3,delay:10,once:!0,pulse:!1,decimals:0,legacy:!0,filesizing:!1,currency:!1,separator:!1,formater:"us-US",selector:".purecounter"},this.configOptions=this.setOptions(t,this.defaults),this.elements=document.querySelectorAll(this.configOptions.selector),this.intersectionSupport=this.intersectionListenerSupported(),this.registerEventListeners()}var n,d,u;return n=p,d=[{key:"setOptions",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={};for(var i in t)if(Object.keys(e).length===0||e.hasOwnProperty(i)){var a=this.parseValue(t[i]);r[i]=a,i.match(/duration|pulse/)&&(r[i]=typeof a!="boolean"?1e3*a:a)}return Object.assign({},e,r)}},{key:"registerEventListeners",value:function(){var t=this.elements;if(t.length!==0)if(this.intersectionSupport){var e=new IntersectionObserver(this.animateElements.bind(this),{root:null,rootMargin:"20px",threshold:.5});t.forEach(function(r){e.observe(r)})}else window.addEventListener&&(this.animateLegacy(t),window.addEventListener("scroll",function(r){this.animateLegacy(t)},{passive:!0}))}},{key:"animateLegacy",value:function(t){var e=this;t.forEach(function(r){e.parseConfig(r).legacy===!0&&e.elementIsInView(r)&&e.animateElements([r])})}},{key:"animateElements",value:function(t,e){var r=this;t.forEach(function(i){var a=i.target||i,o=r.parseConfig(a);if(o.duration<=0)return a.innerHTML=r.formatNumber(o.end,o);if(!e&&!r.elementIsInView(i)||e&&i.intersectionRatio<.5){var y=o.start>o.end?o.end:o.start;return a.innerHTML=r.formatNumber(y,o)}setTimeout(function(){return r.startCounter(a,o)},o.delay)})}},{key:"startCounter",value:function(t,e){var r=this,i=(e.end-e.start)/(e.duration/e.delay),a="inc";e.start>e.end&&(a="dec",i*=-1);var o=this.parseValue(e.start);t.innerHTML=this.formatNumber(o,e),e.once===!0&&t.setAttribute("data-purecounter-duration",0);var y=setInterval(function(){var c=r.nextNumber(o,i,a);t.innerHTML=r.formatNumber(c,e),((o=c)>=e.end&&a==="inc"||o<=e.end&&a==="dec")&&(t.innerHTML=r.formatNumber(e.end,e),e.pulse&&(t.setAttribute("data-purecounter-duration",0),setTimeout(function(){t.setAttribute("data-purecounter-duration",e.duration/1e3)},e.pulse)),clearInterval(y))},e.delay)}},{key:"parseConfig",value:function(t){var e=this,r=[].filter.call(t.attributes,function(a){return/^data-purecounter-/.test(a.name)}),i=r.length!=0?Object.assign.apply(Object,[{}].concat(O(r.map(function(a){var o=a.name,y=a.value;return function(c,b,h){return b in c?Object.defineProperty(c,b,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[b]=h,c}({},o.replace("data-purecounter-","").toLowerCase(),e.parseValue(y))})))):{};return this.setOptions(i,this.configOptions)}},{key:"nextNumber",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"inc";return t=this.parseValue(t),e=this.parseValue(e),parseFloat(r==="inc"?t+e:t-e)}},{key:"convertNumber",value:function(t,e){if(e.filesizing||e.currency){t=Math.abs(Number(t));var r=1e3,i=e.currency&&typeof e.currency=="string"?e.currency:"",a=e.decimals||1,o=["","K","M","B","T"],y="";e.filesizing&&(r=1024,o=["bytes","KB","MB","GB","TB"]);for(var c=4;c>=0;c--)if(c===0&&(y="".concat(t.toFixed(a)," ").concat(o[c])),t>=this.getFilesizeThreshold(r,c)){y="".concat((t/this.getFilesizeThreshold(r,c)).toFixed(a)," ").concat(o[c]);break}return i+y}return parseFloat(t)}},{key:"getFilesizeThreshold",value:function(t,e){return Math.pow(t,e)}},{key:"applySeparator",value:function(t,e){if(e.formater){var r=e.separator?typeof e.separator=="string"?e.separator:",":"";return e.formater!=="en-US"&&e.separator===!0?t:(i=r,t.replace(/^(?:(\d{1,3},(?:\d{1,3},?)*)|(\d{1,3}\.(?:\d{1,3}\.?)*)|(\d{1,3}(?:\s\d{1,3})*))([\.,]?\d{0,2}?)$/gi,function(a,o,y,c,b){var h="",x="";if(o!==void 0?(h=o.replace(new RegExp(/,/gi,"gi"),i),x=","):y!==void 0?h=y.replace(new RegExp(/\./gi,"gi"),i):c!==void 0&&(h=c.replace(new RegExp(/ /gi,"gi"),i)),b!==void 0){var M=x!==","&&i!==","?",":".";h+=b.replace(new RegExp(/\.|,/gi,"gi"),M)}return h}))}var i;return t}},{key:"formatNumber",value:function(t,e){var r={minimumFractionDigits:e.decimals,maximumFractionDigits:e.decimals},i=typeof e.formater=="string"?e.formater:void 0;return t=this.convertNumber(t,e),t=e.formater?t.toLocaleString(i,r):parseInt(t).toString(),this.applySeparator(t,e)}},{key:"getLocaleSeparator",value:function(){}},{key:"parseValue",value:function(t){return/^[0-9]+\.[0-9]+$/.test(t)?parseFloat(t):/^[0-9]+$/.test(t)?parseInt(t):/^true|false/i.test(t)?/^true/i.test(t):t}},{key:"elementIsInView",value:function(t){for(var e=t.offsetTop,r=t.offsetLeft,i=t.offsetWidth,a=t.offsetHeight;t.offsetParent;)e+=(t=t.offsetParent).offsetTop,r+=t.offsetLeft;return e>=window.pageYOffset&&r>=window.pageXOffset&&e+a<=window.pageYOffset+window.innerHeight&&r+i<=window.pageXOffset+window.innerWidth}},{key:"intersectionListenerSupported",value:function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}}],d&&j(n.prototype,d),u&&j(n,u),Object.defineProperty(n,"prototype",{writable:!1}),p}()},634:function(m,f,g){var O=g(3).Z;m.exports=O}},s={};function v(m){var f=s[m];if(f!==void 0)return f.exports;var g=s[m]={exports:{}};return l[m](g,g.exports,v),g.exports}return v.d=function(m,f){for(var g in f)v.o(f,g)&&!v.o(m,g)&&Object.defineProperty(m,g,{enumerable:!0,get:f[g]})},v.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},v(634)}()})});var E=R(S()),$=E.default??E;export{$ as default};
/*! Bundled license information:

@srexi/purecounterjs/dist/purecounter.js:
  (*!
   * purecounter.js - A simple yet configurable native javascript counter which you can count on.
   * Author: Stig Rex
   * Version: 1.5.0
   * Url: https://github.com/srexi/purecounterjs
   * License: MIT
   *)
*/
//# sourceMappingURL=purecounterjs.bundle.mjs.map