---
title: Pages
description: Create WordPress pages from file templates with automatic block parsing.
---

# Pages

Blockstudio can automatically create and sync WordPress pages from file templates. Define your pages as files, and Blockstudio will parse the HTML-like syntax into WordPress blocks.

## Overview

Create a `pages` folder in your theme directory. Each subfolder containing a `page.json` and template file (`index.php` or `index.twig`) will be registered as a page.

```
theme/
└── pages/
    ├── about/
    │   ├── page.json
    │   └── index.php
    └── contact/
        ├── page.json
        └── index.twig
```

## page.json

The `page.json` file defines the page metadata:

```json title="page.json"
{
  "name": "about",
  "title": "About Us",
  "slug": "about-us",
  "postType": "page",
  "postStatus": "publish",
  "templateLock": "all"
}
```

### Properties

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `name` | `string` | *required* | Unique identifier for the page |
| `title` | `string` | Auto from name | The page title |
| `slug` | `string` | Same as name | URL slug for the page |
| `postType` | `string` | `"page"` | WordPress post type |
| `postStatus` | `string` | `"draft"` | Status for new posts (`publish`, `draft`, `pending`, `private`) |
| `templateLock` | `string\|false` | `"all"` | Lock mode: `"all"`, `"insert"`, `"contentOnly"`, or `false` |
| `templateFor` | `string\|null` | `null` | Set as default template for a post type |
| `sync` | `boolean` | `true` | Whether to sync content when template changes |

## Template

The template file contains HTML-like syntax that gets parsed into WordPress blocks:

```html title="index.php"
<div>
  <h1>About Us</h1>
  <p>Welcome to our company.</p>
  <ul>
    <li>Feature one</li>
    <li>Feature two</li>
  </ul>
</div>
```

This creates a page with a Group block containing a Heading, Paragraph, and List block.

## HTML to Block Mapping

| HTML Element | WordPress Block |
|--------------|-----------------|
| `<p>` | `core/paragraph` |
| `<h1>` - `<h6>` | `core/heading` |
| `<ul>`, `<ol>` | `core/list` |
| `<li>` | `core/list-item` |
| `<div>` | `core/group` |
| `<img>` | `core/image` |
| `<blockquote>` | `core/quote` |
| `<hr>` | `core/separator` |
| `<figure>` | `core/image` |

## Custom Blocks

Use `blockstudio_*` elements to include Blockstudio blocks:

```html title="index.php"
<blockstudio_section>
  <h1>Welcome</h1>
  <p>Section content here.</p>
</blockstudio_section>

<blockstudio_card title="My Card" variant="primary">
  <p>Card content becomes InnerBlocks.</p>
</blockstudio_card>
```

For any block (including core blocks), use the generic syntax:

```html title="index.php"
<blockstudio name="core/columns">
  <blockstudio name="core/column">
    <p>Column 1</p>
  </blockstudio>
  <blockstudio name="core/column">
    <p>Column 2</p>
  </blockstudio>
</blockstudio>
```

## Template Lock

The `templateLock` property controls how users can edit the page in Gutenberg:

- `"all"` - Prevents all modifications (default)
- `"insert"` - Prevents adding/removing blocks, but allows editing content
- `"contentOnly"` - Only content is editable
- `false` - No restrictions

## Sync Behavior

Pages are synced when:
- You visit the WordPress admin
- The template file's modification time is newer than the last sync

To prevent a page from being overwritten after manual edits, the sync checks the file modification time and only updates if the file has changed.

## Custom Paths

By default, Blockstudio looks in `{theme}/pages`. Add additional paths with the filter:

```php title="functions.php"
add_filter('blockstudio/pages/paths', function ($paths) {
    $paths[] = get_template_directory() . '/custom-pages';
    return $paths;
});
```

## PHP API

```php
// Get all registered pages
$pages = Blockstudio\Pages::pages();

// Get a specific page
$page = Blockstudio\Pages::get_page('about');

// Get the WordPress post ID for a page
$postId = Blockstudio\Pages::get_post_id('about');

// Force sync a page (ignores modification time)
Blockstudio\Pages::force_sync('about');

// Force sync all pages
Blockstudio\Pages::force_sync_all();

// Lock a page to prevent automatic updates
Blockstudio\Pages::lock('about');

// Unlock a page
Blockstudio\Pages::unlock('about');
```

## Post Type Templates

Use `templateFor` to set a page as the default template for a post type:

```json title="page.json"
{
  "name": "product-template",
  "title": "Product Template",
  "templateFor": "product",
  "templateLock": "insert"
}
```

Any new posts of that type will start with the defined block structure.

## Hooks

### blockstudio/pages/paths

Filter the directories scanned for pages.

```php
add_filter('blockstudio/pages/paths', function ($paths) {
    $paths[] = MY_PLUGIN_DIR . '/pages';
    return $paths;
});
```

### blockstudio/pages/create_post_data

Filter post data before creating a new page.

```php
add_filter('blockstudio/pages/create_post_data', function ($postData, $pageData) {
    $postData['post_author'] = 1;
    return $postData;
}, 10, 2);
```

### blockstudio/pages/update_post_data

Filter post data before updating an existing page.

```php
add_filter('blockstudio/pages/update_post_data', function ($postData, $post, $pageData) {
    return $postData;
}, 10, 3);
```

### blockstudio/pages/synced

Action fired after all pages have been synced.

```php
add_action('blockstudio/pages/synced', function ($registry) {
    // $registry is the Page_Registry instance
});
```

### blockstudio/pages/post_created

Action fired after a page post is created.

```php
add_action('blockstudio/pages/post_created', function ($postId, $pageData) {
    // Do something after page creation
}, 10, 2);
```

### blockstudio/pages/post_updated

Action fired after a page post is updated.

```php
add_action('blockstudio/pages/post_updated', function ($postId, $pageData) {
    // Do something after page update
}, 10, 2);
```
