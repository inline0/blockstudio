---
title: Migrating to v7
description: Breaking changes and migration steps for Blockstudio 7.
---

# Migrating to v7

This guide covers the changes you need to make when upgrading from Blockstudio 6 to 7.

## ES Module Imports

### New `npm:` Prefix (Recommended)

Blockstudio 7 introduces a new `npm:` prefix for ES module imports, aligning with [Deno's npm specifier](https://docs.deno.com/runtime/fundamentals/node/#using-npm-packages) convention.

**Before (v6):**

```javascript
import { h, render } from "blockstudio/preact@10.15.1";
import htm from "blockstudio/htm@3.1.1";
import confetti from "blockstudio/canvas-confetti@1.6.0";
```

**After (v7):**

```javascript
import { h, render } from "npm:preact@10.15.1";
import htm from "npm:htm@3.1.1";
import confetti from "npm:canvas-confetti@1.6.0";
```

### CSS Imports

The same change applies to CSS imports:

**Before (v6):**

```javascript
import "blockstudio/swiper@11.0.0/swiper.min.css";
```

**After (v7):**

```javascript
import "npm:swiper@11.0.0/swiper.min.css";
```

### Backward Compatibility

The `blockstudio/` prefix is still supported for backward compatibility. Your existing code will continue to work without changes. However, we recommend migrating to the `npm:` prefix for consistency with the broader JavaScript ecosystem.

The `npm:` prefix offers several advantages:

- **Ecosystem alignment** - Matches Deno's established convention
- **Clarity** - Makes it immediately clear you're importing from npm
- **Future-proofing** - The `blockstudio/` prefix may be deprecated in a future major version

## Hook Names

Blockstudio 7 standardizes all PHP hook names to use `snake_case` instead of `camelCase`, aligning with WordPress core conventions.

### Changed Hook Names

| Old Name (v6) | New Name (v7) |
|---------------|---------------|
| `blockstudio/blocks/components/useblockprops/render` | `blockstudio/blocks/components/use_block_props/render` |
| `blockstudio/blocks/components/innerblocks/render` | `blockstudio/blocks/components/inner_blocks/render` |
| `blockstudio/blocks/components/innerblocks/frontend/wrap` | `blockstudio/blocks/components/inner_blocks/frontend/wrap` |
| `blockstudio/blocks/components/richtext/render` | `blockstudio/blocks/components/rich_text/render` |
| `blockstudio/assets/process/scss/importPaths` | `blockstudio/assets/process/scss/import_paths` |
| `blockstudio/settings/assets/process/scssFiles` | `blockstudio/settings/assets/process/scss_files` |
| `blockstudio/settings/editor/formatOnSave` | `blockstudio/settings/editor/format_on_save` |
| `blockstudio/settings/blockEditor/disableLoading` | `blockstudio/settings/block_editor/disable_loading` |
| `blockstudio/settings/blockEditor/cssClasses` | `blockstudio/settings/block_editor/css_classes` |
| `blockstudio/settings/blockEditor/cssVariables` | `blockstudio/settings/block_editor/css_variables` |
| `blockstudio/settings/ai/enableContextGeneration` | `blockstudio/settings/ai/enable_context_generation` |

### Backward Compatibility

The old camelCase hook names are still supported for backward compatibility. Your existing code will continue to work without changes. However, we recommend migrating to the new snake_case names for consistency.

**Example migration:**

```php
// Before (v6)
add_filter('blockstudio/settings/blockEditor/cssClasses', function() {
    return ['my-stylesheet'];
});

// After (v7)
add_filter('blockstudio/settings/block_editor/css_classes', function() {
    return ['my-stylesheet'];
});
```

## Field Switch

The `switch` property now defaults to `false` instead of `true`. In v6, every field had an invisible toggle on the left edge that was enabled by default. In v7, switch is opt-in and uses a visible eye icon in the field label.

### What Changed

- **Default is now `false`** — fields no longer have a switch unless you explicitly set `"switch": true`
- **Visible eye icon** — instead of a hidden left-side click zone, an eye icon button appears in the label area
- **Disabled overlay** — when a field is disabled, a blur overlay with "This field is disabled" text is shown instead of just reducing opacity

### Migration

If you relied on the default switch behavior in v6, you need to explicitly enable it:

```json
{
  "id": "title",
  "type": "text",
  "label": "Title",
  "switch": true
}
```

If you previously set `"switch": false` to disable the toggle, you can remove it since `false` is now the default.
