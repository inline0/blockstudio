<?xml version="1.0"?>
<ruleset name="Blockstudio">
	<description>WordPress Coding Standards for Blockstudio v7</description>

	<!-- Only check migrated v7 code -->
	<file>./blockstudio-v7.php</file>
	<file>./includes-v7/class-plugin.php</file>
	<file>./includes-v7/classes/constants.php</file>
	<file>./includes-v7/classes/field-type-config.php</file>
	<file>./includes-v7/classes/block-registry.php</file>
	<file>./includes-v7/classes/option-value-resolver.php</file>
	<file>./includes-v7/classes/utils.php</file>
	<file>./includes-v7/classes/field.php</file>
	<file>./includes-v7/classes/examples.php</file>
	<file>./includes-v7/classes/configurator.php</file>
	<file>./includes-v7/classes/register.php</file>
	<file>./includes-v7/classes/render.php</file>
	<file>./includes-v7/classes/library.php</file>
	<file>./includes-v7/classes/builder.php</file>
	<file>./includes-v7/classes/tailwind.php</file>
	<file>./includes-v7/classes/migrate.php</file>
	<file>./includes-v7/classes/populate.php</file>
	<file>./includes-v7/classes/esmodulescss.php</file>
	<file>./includes-v7/classes/esmodules.php</file>
	<file>./includes-v7/classes/blocks.php</file>
	<file>./includes-v7/classes/llm.php</file>
	<file>./includes-v7/classes/files.php</file>
	<file>./includes-v7/classes/extensions.php</file>
	<file>./includes-v7/classes/settings.php</file>
	<file>./includes-v7/classes/admin.php</file>
	<file>./includes-v7/classes/assets.php</file>
	<file>./includes-v7/classes/block.php</file>
	<file>./includes-v7/classes/rest.php</file>
	<file>./includes-v7/classes/build.php</file>

	<!-- Interfaces -->
	<file>./includes-v7/interfaces/field-handler-interface.php</file>

	<!-- Field handlers -->
	<file>./includes-v7/classes/field-handlers/abstract-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/text-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/number-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/boolean-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/select-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/media-field-handler.php</file>
	<file>./includes-v7/classes/field-handlers/container-field-handler.php</file>

	<!-- Attribute builder -->
	<file>./includes-v7/classes/attribute-builder.php</file>

	<!-- Block discovery and registration (Phase 5) -->
	<file>./includes-v7/classes/file-classifier.php</file>
	<file>./includes-v7/classes/block-discovery.php</file>
	<file>./includes-v7/classes/asset-discovery.php</file>
	<file>./includes-v7/classes/block-registrar.php</file>

	<!-- Settings loader interface and implementations (Phase 6) -->
	<file>./includes-v7/interfaces/settings-loader-interface.php</file>
	<file>./includes-v7/classes/settings-loaders/options-loader.php</file>
	<file>./includes-v7/classes/settings-loaders/json-loader.php</file>
	<file>./includes-v7/classes/settings-loaders/filter-loader.php</file>

	<!-- Abstract classes (Phase 6) -->
	<file>./includes-v7/classes/abstract-esmodule.php</file>

	<!-- Error handling (Phase 6) -->
	<file>./includes-v7/classes/error-handler.php</file>

	<!-- Exclude vendor and node_modules -->
	<exclude-pattern>*/vendor/*</exclude-pattern>
	<exclude-pattern>*/node_modules/*</exclude-pattern>

	<!-- Exclude copied v6 classes (not yet migrated) -->
	<exclude-pattern>*/includes-v7/classes/*</exclude-pattern>
	<exclude-pattern>*/includes-v7/functions/*</exclude-pattern>
	<exclude-pattern>*/includes-v7/admin/*</exclude-pattern>
	<exclude-pattern>*/includes-v7/templates/*</exclude-pattern>

	<!-- Use WordPress coding standards -->
	<rule ref="WordPress"/>

	<!-- PHP 8.2+ -->
	<config name="testVersion" value="8.2-"/>

	<!-- Text domain -->
	<rule ref="WordPress.WP.I18n">
		<properties>
			<property name="text_domain" type="array">
				<element value="blockstudio"/>
			</property>
		</properties>
	</rule>

	<!-- Prefix for hooks, functions, classes -->
	<rule ref="WordPress.NamingConventions.PrefixAllGlobals">
		<properties>
			<property name="prefixes" type="array">
				<element value="blockstudio"/>
				<element value="Blockstudio"/>
			</property>
		</properties>
	</rule>
</ruleset>
